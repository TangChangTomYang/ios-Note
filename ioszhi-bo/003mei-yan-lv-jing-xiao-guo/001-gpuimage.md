

原文：http://www.cocoachina.com/ios/20140812/9363.html

**本教程假设你拥有关于IOS系统和Object-C的基础，但在开始本教程前不需要拥有任何关于图形图像处理的知识。**



**开始**
在开始写代码之前，先理解一些关于图形图像处理的基本概念很是需要。

####一、什么是图形图像

- **一张图像就是像素点的集合，每一个像素都是一个单独，明了的颜色。图像一般情况下都存储成数组，你可以把他们想像成2维数组。**

这一张是缩放版本的幽灵，被放大后：![](/assets/youling.png)

图像中这些小的**“方块”**就是像素，**每一像素只表示一种颜色**。当成百上千万的像素集体到一起后，就构成了图形图像。

####二、如何用字节来表示颜色

表示图形的方式有许多种。在本教程中使用的是最简单的：32位RGBA模式。

如同它的名字一样，32位RGBA模式会将一个颜色值存储在32位，或者4个字节中。每一个字节存储一个部分或者一个颜色通道。这4个部分分别是：
 - R代表红色
 
 - G代表绿色
 
 - B代表蓝色
 
 - A代表透明度
 
正如你所知道的，红，绿和蓝是所有颜色的基本颜色集。你几乎可以使用他们创建搭配出任何想要的颜色。
 
由于使用8位表示每一种颜色值，那么使用32位RGBA模式实际上可以创建出不透明的颜色的总数是256256256种，已经接近17亿种。惊叹，那是好多好多好多的颜色！
 
alpha通道与其它的不同。你可以把它当成透明的东西，就像UIView的alpah属性。
 
透明颜色意味着没有任何的颜色，除非在它的后面有另外一种颜色；它的主要功能就是要告诉图像处理这个像素的透明度是多少，于是，就会有多少颜色值穿透过它而显示出来。

你将会通过本节后面的内容更新深入的了解。
 
**总结一下**，一个图形就是像素的集体，并且每一个像素只能表示一种颜色


**提示：**
你有没有想过，位图的结构组成？**一张位图就是一张2D的地图，每一块就是一个像素！像素就是地图的每一块**。哈哈！


现在你已经了解了用字节表示颜色的基础了。不过在你开始着手写代码前，还有三个以上的概念需要你了解。
 
**颜色空间**
使用RGB模式表示颜色是颜色空间的一个例子。它只是众多存储颜色方法中的一种。另外一种颜色空间是**灰阶空间**。像它的名字一样，**所有的图形都只有黑和白**，只需要保存一个值来表示这种颜色。

 
** 另外两种比较常见的颜色空间是HSV和YUV。** 



**HSV，使用色调，饱和度和亮度来直观的存储颜色值。你可以把这三个部分这样来看：**
- 色调就是颜色
- 饱和度就是这个颜色有多么的饱满
- 值就是颜色的亮度有多亮

 在这种颜色空间中，如果你发现自己并不知道HSV的值，那么通过它的三个值，可以很容易的相像出大概是什么颜色。
 RGB和HSV颜色空间的区别是很容易理解的，请看下面的图像： 
 
 ![](/assets/HSV.png)
 
 
 **YUV是另外一种常见的颜色空间，电视机使用的就是这种方式。**
 
 最开始的时候，电视机只有灰阶空间一种颜色通道。后来，当彩色电影出现后，就有了2种通道
 
 
 **NOTE:**同样的颜色空间，你也可以使用不同的方法表示颜色。比如16位RGB模式，可以使用5个字节存储R，6个字节存储G，5个字节存储B。
 
为什么用6个字节存储绿色，5个字节存储蓝色？这是一个有意思的问题，答案就是因为眼球。人类的眼球对绿色比较敏感，所以人类的眼球更空间分辨出绿色的颜色值变化。


**坐标系统**


既然一个图形是由像素构成的平面地图，那么图像的原点需要说明一下。通常原点在图像的左上角，Y轴向下；或者原点在图像的左下，Y轴向上。
 
没有固定的坐标系统，苹果在不同的地方可能会使用不同的坐标系。
 
**目前，UIImage和UIView使用的是左上原点坐标，Core Image和Core Graphics使用的是左下原点坐标。**这个概念很重要，当你遇到图像绘制倒立问题的时候你就知道了。


**图形压缩**

这是在你开始编写代码前的最后一个需要了解的概念了！原图的每一个像素都被存储在各自的内存中。
 
如果你使用一张8像素的图形做运算，它将会消耗810^6像素4比特/像素=32兆字节内存。关注一下数据！
 
这就是为什么会出现jpeg,png和其它图形格式的原因。这些都是图形压缩格式。

当GPU在绘制图像的时候，会使用大量内存把图像的原始尺寸进行解压缩。如果你的程序占用了过多的内存，那么操作系统会将进程杀死（程序崩溃）。所以请确定你的程序使用较大的图像进行过测试。
 
